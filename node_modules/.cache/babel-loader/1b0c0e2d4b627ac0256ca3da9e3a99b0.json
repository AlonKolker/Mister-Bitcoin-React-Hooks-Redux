{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ALON/Desktop/Mister-bitcoin -React day 106/Mister Bitcoin-React-with-hooks-and-redux/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ALON/Desktop/Mister-bitcoin -React day 106/Mister Bitcoin-React-with-hooks-and-redux/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ALON/Desktop/Mister-bitcoin -React day 106/Mister Bitcoin-React-with-hooks-and-redux/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getUserMoves,addUserMove}from\"../store/actions/userActions\";import{removeContact}from'../store/actions/contactActions';import{useHistory,useParams}from\"react-router-dom\";import React from\"react\";import{contactService}from\"../services/contactService\";import{userService}from\"../services/user.service\";import{TransferFund}from\"../components/Transfer-fund\";import{MovesList}from\"../components/Moves-list\";import{HashRouter as Link,NavLink,Router,Redirect,Route,Switch}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ContactDeatails=function ContactDeatails(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),contact=_useState2[0],setContact=_useState2[1];var params=useParams();var history=useHistory();var userMoves=useSelector(function(state){return state.userModule.userMoves;});var dispatch=useDispatch();var loadContact=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var contactId,contact;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:contactId=params.id;console.log(contactId);_context.next=4;return contactService.getContactById(contactId);case 4:contact=_context.sent;setContact(contact);case 6:case\"end\":return _context.stop();}}},_callee);})),[params.id]);useEffect(function(){loadContact();dispatch(getUserMoves());},[loadContact,dispatch]);var onRemoveContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(contactId){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return dispatch(removeContact(contactId));case 2:history.push(\"/contact\");case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function onRemoveContact(_x){return _ref2.apply(this,arguments);};}();// const onRemoveContact = async (contactId) => {\n//   await contactService.deleteContact(contactId)\n//   history.push(\"/contact\")\n//   // navigate('/contact')\n// }\nvar onBack=function onBack(){history.push(\"/contact\");};var onTransfer=function onTransfer(val,contact){dispatch(addUserMove(contact,val));dispatch(getUserMoves());};if(!contact)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading Deatails...\"});var contactImg=\"https://i.pravatar.cc/150?u=\".concat(contact._id);return/*#__PURE__*/_jsxs(\"div\",{className:\"deatils-conteiner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"deatils-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"remove-contact-logo\",onClick:function onClick(){return onRemoveContact(contact._id);},children:\"\\uD83D\\uDDD1 Remove\"}),/*#__PURE__*/_jsx(NavLink,{className:\"edit-contact-logo\",to:\"/contact/edit/\".concat(contact._id),children:\"\\uD83D\\uDD8A Edit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"contact-img\",src:contactImg,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"deatil\",children:\" Name: \"}),contact.name]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"deatil\",children:\"Phone:\"}),\" \",contact.phone]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"deatil\",children:\"Email:\"}),\" \",contact.email]})]}),/*#__PURE__*/_jsx(TransferFund,{contact:contact,onTransfer:onTransfer}),/*#__PURE__*/_jsx(\"button\",{className:\"nice-button details-go-back-btn\",onClick:onBack,children:\"Go back\"})]}),/*#__PURE__*/_jsx(MovesList,{contact:contact,moves:userMoves,title:\"Your Moves:\"})]});};","map":{"version":3,"names":["useCallback","useEffect","useState","useDispatch","useSelector","getUserMoves","addUserMove","removeContact","useHistory","useParams","React","contactService","userService","TransferFund","MovesList","HashRouter","Link","NavLink","Router","Redirect","Route","Switch","ContactDeatails","contact","setContact","params","history","userMoves","state","userModule","dispatch","loadContact","contactId","id","console","log","getContactById","onRemoveContact","push","onBack","onTransfer","val","contactImg","_id","name","phone","email"],"sources":["C:/Users/ALON/Desktop/Mister-bitcoin -React day 106/Mister Bitcoin-React-with-hooks-and-redux/src/pages/Contact-details.jsx"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getUserMoves, addUserMove } from \"../store/actions/userActions\"\r\nimport { removeContact } from '../store/actions/contactActions'\r\nimport { useHistory, useParams } from \"react-router-dom\"\r\n\r\nimport React from \"react\"\r\nimport { contactService } from \"../services/contactService\"\r\nimport { userService } from \"../services/user.service\"\r\nimport { TransferFund } from \"../components/Transfer-fund\"\r\nimport { MovesList } from \"../components/Moves-list\"\r\n\r\nimport { HashRouter as Link, NavLink, Router, Redirect, Route, Switch } from \"react-router-dom\"\r\n\r\nexport const ContactDeatails = () => {\r\n  const [contact, setContact] = useState({})\r\n  const params = useParams()\r\n  const history = useHistory()\r\n  const userMoves = useSelector((state) => state.userModule.userMoves)\r\n  const dispatch = useDispatch()\r\n\r\n  const loadContact = useCallback(async () => {\r\n    const contactId = params.id\r\n    console.log(contactId)\r\n    const contact = await contactService.getContactById(contactId)\r\n    setContact(contact)\r\n  }, [params.id])\r\n\r\n  useEffect(() => {\r\n    loadContact()\r\n    dispatch(getUserMoves())\r\n  }, [loadContact, dispatch])\r\n\r\n  const onRemoveContact = async (contactId) => {\r\n    await dispatch(removeContact(contactId))\r\n    history.push(\"/contact\")\r\n  }\r\n\r\n  // const onRemoveContact = async (contactId) => {\r\n  //   await contactService.deleteContact(contactId)\r\n  //   history.push(\"/contact\")\r\n  //   // navigate('/contact')\r\n  // }\r\n\r\n  const onBack = () => {\r\n    history.push(\"/contact\")\r\n  }\r\n\r\n  const onTransfer = (val, contact) => {\r\n    dispatch(addUserMove(contact, val))\r\n    dispatch(getUserMoves())\r\n  }\r\n\r\n  if (!contact) return <div>Loading Deatails...</div>\r\n  const contactImg = `https://i.pravatar.cc/150?u=${contact._id}`\r\n  return (\r\n    <div className='deatils-conteiner'>\r\n      <div className='deatils-content'>\r\n        <div className='flex space-between'>\r\n          <div className='remove-contact-logo' onClick={() => onRemoveContact(contact._id)}>\r\n            ðŸ—‘ Remove\r\n          </div>\r\n          <NavLink className='edit-contact-logo' to={`/contact/edit/${contact._id}`}>\r\n            ðŸ–Š Edit\r\n          </NavLink>\r\n        </div>\r\n        <div className='main-content'>\r\n          <img className='contact-img' src={contactImg} alt='' />\r\n          <div>\r\n            {\" \"}\r\n            <span className='deatil'> Name: </span>\r\n            {contact.name}\r\n          </div>\r\n          <div>\r\n            <span className='deatil'>Phone:</span> {contact.phone}\r\n          </div>\r\n          <div>\r\n            <span className='deatil'>Email:</span> {contact.email}\r\n          </div>\r\n        </div>\r\n        <TransferFund contact={contact} onTransfer={onTransfer} />\r\n        <button className='nice-button details-go-back-btn' onClick={onBack}>\r\n          Go back\r\n        </button>\r\n      </div>\r\n      <MovesList contact={contact} moves={userMoves} title={\"Your Moves:\"} />\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}