{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ALON\\\\Desktop\\\\Mister-bitcoin -React day 106\\\\Mister Bitcoin-React-with-hooks-and-redux\\\\src\\\\pages\\\\Home.jsx\";\nimport { Component } from \"react\";\nimport { userService } from \"../services/user.service\";\nimport { bitcoinService } from \"../services/bitcoin.service\";\nimport { MovesList } from \"../components/Moves-list\";\nimport avatar from \"../assets/imgs/bitcoin-man.ipg\"; // import avatar from \"../assets/imgs/avatar4.jpg\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Home extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      user: null,\n      btc: null,\n      userMoves: null\n    };\n  }\n\n  componentDidMount() {\n    this.loadUser();\n  }\n\n  async loadUser() {\n    try {\n      const user = await userService.getUser();\n      if (!user) return this.props.history.push(\"/signup\");\n      let threeMoves = JSON.parse(JSON.stringify(user.moves)).splice(-3);\n      this.setState({\n        user,\n        userMoves: threeMoves\n      });\n      this.btcFormat(user.coins);\n    } catch (err) {\n      console.log(\"err:\", err);\n    }\n  }\n\n  async btcFormat(coins) {\n    let btc = await bitcoinService.getRate(coins);\n    this.setState({\n      btc\n    });\n  }\n\n  render() {\n    const {\n      user,\n      btc,\n      userMoves\n    } = this.state;\n    if (!user) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 23\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"home-page-conteiner\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"home-bitcoin-logo\",\n          src: avatar,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-header\",\n        children: [\"Hello Dear \", user.name, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-user-balance\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Your Coins: \", user.coins, \" \\uD83D\\uDCB0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Your coins in BTC: \", btc]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MovesList, {\n        contact: null,\n        moves: userMoves,\n        title: userMoves.length ? `Your last ${userMoves.length} moves:` : 'Your didnt make a move yet'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["Component","userService","bitcoinService","MovesList","avatar","Home","state","user","btc","userMoves","componentDidMount","loadUser","getUser","props","history","push","threeMoves","JSON","parse","stringify","moves","splice","setState","btcFormat","coins","err","console","log","getRate","render","name","length"],"sources":["C:/Users/ALON/Desktop/Mister-bitcoin -React day 106/Mister Bitcoin-React-with-hooks-and-redux/src/pages/Home.jsx"],"sourcesContent":["import { Component } from \"react\"\r\nimport { userService } from \"../services/user.service\"\r\nimport { bitcoinService } from \"../services/bitcoin.service\"\r\nimport { MovesList } from \"../components/Moves-list\"\r\nimport avatar from \"../assets/imgs/bitcoin-man.ipg\"\r\n// import avatar from \"../assets/imgs/avatar4.jpg\"\r\n\r\nexport class Home extends Component {\r\n  state = {\r\n    user: null,\r\n    btc: null,\r\n    userMoves:null,\r\n  }\r\n  componentDidMount() {\r\n    this.loadUser()\r\n  }\r\n  async loadUser() {\r\n    try {\r\n      const user = await userService.getUser()\r\n      if (!user) return this.props.history.push(\"/signup\")\r\n      let threeMoves = JSON.parse(JSON.stringify(user.moves)).splice(-3)\r\n      this.setState({ user, userMoves: threeMoves })\r\n      this.btcFormat(user.coins)\r\n    } catch (err) {\r\n      console.log(\"err:\", err)\r\n    }\r\n  }\r\n  async btcFormat(coins) {\r\n    let btc = await bitcoinService.getRate(coins)\r\n    this.setState({ btc })\r\n  }\r\n  render() {\r\n    const { user, btc,userMoves } = this.state\r\n    if (!user) return <div>Loading</div>\r\n    return (\r\n      <section className='home-page-conteiner'>\r\n        \r\n        <div>\r\n        <img className=\"home-bitcoin-logo\" src={avatar} alt=\"\" />\r\n        </div>\r\n        <div className=\"home-header\">Hello Dear {user.name}!</div>\r\n        <div className=\"home-user-balance\">\r\n        <div>Your Coins: {user.coins} ðŸ’°</div>\r\n        <div>Your coins in BTC: {btc}</div>\r\n        </div>\r\n        <MovesList contact={null} moves={userMoves} title={userMoves.length? `Your last ${userMoves.length} moves:`:'Your didnt make a move yet'} />\r\n      </section>\r\n    )\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,QAA4B,0BAA5B;AACA,SAASC,cAAT,QAA+B,6BAA/B;AACA,SAASC,SAAT,QAA0B,0BAA1B;AACA,OAAOC,MAAP,MAAmB,gCAAnB,C,CACA;;;AAEA,OAAO,MAAMC,IAAN,SAAmBL,SAAnB,CAA6B;EAAA;IAAA;IAAA,KAClCM,KADkC,GAC1B;MACNC,IAAI,EAAE,IADA;MAENC,GAAG,EAAE,IAFC;MAGNC,SAAS,EAAC;IAHJ,CAD0B;EAAA;;EAMlCC,iBAAiB,GAAG;IAClB,KAAKC,QAAL;EACD;;EACa,MAARA,QAAQ,GAAG;IACf,IAAI;MACF,MAAMJ,IAAI,GAAG,MAAMN,WAAW,CAACW,OAAZ,EAAnB;MACA,IAAI,CAACL,IAAL,EAAW,OAAO,KAAKM,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB,CAAP;MACX,IAAIC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeZ,IAAI,CAACa,KAApB,CAAX,EAAuCC,MAAvC,CAA8C,CAAC,CAA/C,CAAjB;MACA,KAAKC,QAAL,CAAc;QAAEf,IAAF;QAAQE,SAAS,EAAEO;MAAnB,CAAd;MACA,KAAKO,SAAL,CAAehB,IAAI,CAACiB,KAApB;IACD,CAND,CAME,OAAOC,GAAP,EAAY;MACZC,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,GAApB;IACD;EACF;;EACc,MAATF,SAAS,CAACC,KAAD,EAAQ;IACrB,IAAIhB,GAAG,GAAG,MAAMN,cAAc,CAAC0B,OAAf,CAAuBJ,KAAvB,CAAhB;IACA,KAAKF,QAAL,CAAc;MAAEd;IAAF,CAAd;EACD;;EACDqB,MAAM,GAAG;IACP,MAAM;MAAEtB,IAAF;MAAQC,GAAR;MAAYC;IAAZ,IAA0B,KAAKH,KAArC;IACA,IAAI,CAACC,IAAL,EAAW,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;IACX,oBACE;MAAS,SAAS,EAAC,qBAAnB;MAAA,wBAEE;QAAA,uBACA;UAAK,SAAS,EAAC,mBAAf;UAAmC,GAAG,EAAEH,MAAxC;UAAgD,GAAG,EAAC;QAApD;UAAA;UAAA;UAAA;QAAA;MADA;QAAA;QAAA;QAAA;MAAA,QAFF,eAKE;QAAK,SAAS,EAAC,aAAf;QAAA,0BAAyCG,IAAI,CAACuB,IAA9C;MAAA;QAAA;QAAA;QAAA;MAAA,QALF,eAME;QAAK,SAAS,EAAC,mBAAf;QAAA,wBACA;UAAA,2BAAkBvB,IAAI,CAACiB,KAAvB;QAAA;UAAA;UAAA;UAAA;QAAA,QADA,eAEA;UAAA,kCAAyBhB,GAAzB;QAAA;UAAA;UAAA;UAAA;QAAA,QAFA;MAAA;QAAA;QAAA;QAAA;MAAA,QANF,eAUE,QAAC,SAAD;QAAW,OAAO,EAAE,IAApB;QAA0B,KAAK,EAAEC,SAAjC;QAA4C,KAAK,EAAEA,SAAS,CAACsB,MAAV,GAAmB,aAAYtB,SAAS,CAACsB,MAAO,SAAhD,GAAyD;MAA5G;QAAA;QAAA;QAAA;MAAA,QAVF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAcD;;AAzCiC"},"metadata":{},"sourceType":"module"}