{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ALON\\\\Desktop\\\\Mister-bitcoin -React day 106\\\\Mister Bitcoin-React-with-hooks-and-redux\\\\src\\\\pages\\\\Contact-Edit.jsx\";\nimport { Component, createRef } from \"react\";\nimport { contactService } from \"../services/contactService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class ContactEdit extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      contact: null\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const field = target.name;\n      const value = target.type === \"number\" ? +target.value || \"\" : target.value;\n      this.setState(prevState => ({\n        contact: { ...prevState.contact,\n          [field]: value\n        }\n      }));\n      console.log(this.state.contact);\n    };\n\n    this.onSaveContact = async ev => {\n      ev.preventDefault(); // console.log(...this.state.contact );\n\n      await contactService.saveContact({ ...this.state.contact\n      });\n      this.props.history.push(\"/contact\");\n    };\n\n    this.inputRefFunc = elInput => {\n      elInput && elInput.focus();\n    };\n  }\n\n  async componentDidMount() {\n    console.log(\"edit componentDidMount\");\n    const contactId = this.props.match.params.id;\n    const contact = contactId ? await contactService.getContactById(contactId) : contactService.getEmptyContact();\n    this.setState({\n      contact\n    });\n  }\n\n  render() {\n    const {\n      contact\n    } = this.state;\n    console.log(contact);\n    if (!contact) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading contact edit...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 26\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"contact-edit-conteiner\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contact-edit\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [contact._id ? \"Edit\" : \"Add\", \" contact\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.onSaveContact,\n          className: \"edit-contact-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"edit-input\",\n            ref: this.inputRefFunc,\n            value: contact.name,\n            onChange: this.handleChange,\n            type: \"text\",\n            name: \"name\",\n            id: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phone\",\n            children: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"edit-input\",\n            ref: this.inputRefFunc,\n            value: contact.phone,\n            onChange: this.handleChange,\n            type: \"text\",\n            name: \"phone\",\n            id: \"phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"edit-input\",\n            ref: this.inputRefFunc,\n            value: contact.email,\n            onChange: this.handleChange,\n            type: \"text\",\n            name: \"email\",\n            id: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nice-button\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nice-button\",\n              onClick: this.props.history.goBack,\n              children: \"Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["Component","createRef","contactService","ContactEdit","state","contact","handleChange","target","field","name","value","type","setState","prevState","console","log","onSaveContact","ev","preventDefault","saveContact","props","history","push","inputRefFunc","elInput","focus","componentDidMount","contactId","match","params","id","getContactById","getEmptyContact","render","_id","phone","email","goBack"],"sources":["C:/Users/ALON/Desktop/Mister-bitcoin -React day 106/Mister Bitcoin-React-with-hooks-and-redux/src/pages/Contact-Edit.jsx"],"sourcesContent":["import { Component, createRef } from \"react\"\r\nimport { contactService } from \"../services/contactService\"\r\n\r\nexport class ContactEdit extends Component {\r\n  state = {\r\n    contact: null,\r\n  }\r\n\r\n\r\n  async componentDidMount() {\r\n    console.log(\"edit componentDidMount\")\r\n    const contactId = this.props.match.params.id\r\n    const contact = contactId ? await contactService.getContactById(contactId) :  contactService.getEmptyContact()\r\n    this.setState({ contact })\r\n \r\n  }\r\n\r\n  handleChange = ({ target }) => {\r\n    const field = target.name\r\n    const value = target.type === \"number\" ? +target.value || \"\" : target.value\r\n    this.setState((prevState) => ({ contact: { ...prevState.contact, [field]: value } }))\r\n    console.log(this.state.contact);\r\n  }\r\n\r\n  onSaveContact = async (ev) => {\r\n    ev.preventDefault()\r\n    // console.log(...this.state.contact );\r\n    await contactService.saveContact({ ...this.state.contact })\r\n    this.props.history.push(\"/contact\")\r\n  }\r\n\r\n  inputRefFunc = (elInput) => {\r\n    elInput && elInput.focus()\r\n  }\r\n\r\n  render() {\r\n    const { contact } = this.state\r\n    console.log(contact)\r\n    if (!contact) return <div>Loading contact edit...</div>\r\n    return (\r\n      <section className='contact-edit-conteiner'>\r\n        <div className='contact-edit'>\r\n        <h1>{contact._id ? \"Edit\" : \"Add\"} contact</h1>\r\n        <form onSubmit={this.onSaveContact} className=\"edit-contact-form\">\r\n          <label htmlFor='name'>Name</label>\r\n          <input  className=\"edit-input\" ref={this.inputRefFunc} value={contact.name} onChange={this.handleChange} type='text' name='name' id='name' />\r\n          <label htmlFor='phone'>Phone</label>\r\n          <input className=\"edit-input\"  ref={this.inputRefFunc} value={contact.phone} onChange={this.handleChange} type='text' name='phone' id='phone' />\r\n          <label htmlFor='email'>Email</label>\r\n          <input  className=\"edit-input\" ref={this.inputRefFunc} value={contact.email} onChange={this.handleChange} type='text' name='email' id='email' />\r\n        <div className=\"flex\">\r\n          <button className=\"nice-button\">Save</button>\r\n        <button className=\"nice-button\" onClick={this.props.history.goBack}>Back</button>\r\n        </div>\r\n        </form>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}