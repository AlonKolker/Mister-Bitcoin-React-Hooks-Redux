{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ALON\\\\Desktop\\\\Mister-bitcoin -React day 106\\\\Mister Bitcoin-React-with-hooks-and-redux\\\\src\\\\components\\\\Confirmed-transactions.jsx\";\nimport React, { Component } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport { bitcoinService } from \"../services/bitcoin.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class ConfirmedTransactions extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      dailyTransitons: null,\n      timePeriod: \"10\"\n    };\n\n    this.handleChange = e => {\n      console.log(e.target.value);\n      this.setState({\n        timePeriod: e.target.value\n      });\n      console.log(this.state.timePeriod);\n    };\n  }\n\n  componentDidMount() {\n    this.loaddDailyTransitons();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.timePeriod !== this.state.timePeriod) {\n      this.loaddDailyTransitons();\n    }\n  }\n\n  async loaddDailyTransitons() {\n    try {\n      let updatedDailyTransitons = await bitcoinService.getConfirmedTransactions(this.state.timePeriod);\n      let xVals;\n      xVals = updatedDailyTransitons.values.map(val => new Date(val.x * 1000).toLocaleDateString()); //   console.log(updatedMarketPrice.values.filter(val=>val.y));\n\n      let newData = {\n        labels: xVals,\n        datasets: [{\n          label: `BTC Transitions Volume -  ${this.state.timePeriod} Months`,\n          data: updatedDailyTransitons.values.filter(val => val.y),\n          fill: true,\n          backgroundColor: \"#72585f8f\",\n          borderColor: \"#a0465c\"\n        }]\n      }; // console.log(newData);\n\n      this.setState({\n        dailyTransitons: newData\n      });\n    } catch (err) {\n      console.log(\"err:\", err);\n    }\n  }\n\n  render() {\n    const {\n      dailyTransitons,\n      timePeriod\n    } = this.state;\n    if (!dailyTransitons) return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 34\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"confirmed-transitons\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"timePeriod\",\n        value: timePeriod,\n        onChange: this.handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"10\",\n          children: \"10 Months\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"2\",\n          children: \"2 Months\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"4\",\n          children: \"4 Months\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"6\",\n          children: \"6 Months\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"8\",\n          children: \"8 Months\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"12\",\n          children: \"12 Months\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Line, {\n        data: dailyTransitons\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","Line","bitcoinService","ConfirmedTransactions","state","dailyTransitons","timePeriod","handleChange","e","console","log","target","value","setState","componentDidMount","loaddDailyTransitons","componentDidUpdate","prevProps","prevState","updatedDailyTransitons","getConfirmedTransactions","xVals","values","map","val","Date","x","toLocaleDateString","newData","labels","datasets","label","data","filter","y","fill","backgroundColor","borderColor","err","render"],"sources":["C:/Users/ALON/Desktop/Mister-bitcoin -React day 106/Mister Bitcoin-React-with-hooks-and-redux/src/components/Confirmed-transactions.jsx"],"sourcesContent":["import React, { Component } from \"react\"\r\nimport { Line } from \"react-chartjs-2\"\r\nimport { bitcoinService } from \"../services/bitcoin.service\"\r\n\r\nexport class ConfirmedTransactions extends Component {\r\n  state = {\r\n    dailyTransitons: null,\r\n    timePeriod: \"10\",\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loaddDailyTransitons()\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    console.log(e.target.value)\r\n    this.setState({ timePeriod: e.target.value })\r\n    console.log(this.state.timePeriod)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.timePeriod !== this.state.timePeriod) {\r\n      this.loaddDailyTransitons()\r\n    }\r\n  }\r\n\r\n  async loaddDailyTransitons() {\r\n    try {\r\n      let updatedDailyTransitons = await bitcoinService.getConfirmedTransactions(this.state.timePeriod)\r\n      let xVals\r\n      xVals = updatedDailyTransitons.values.map((val) => new Date(val.x * 1000).toLocaleDateString())\r\n      //   console.log(updatedMarketPrice.values.filter(val=>val.y));\r\n      let newData = {\r\n        labels: xVals,\r\n        datasets: [\r\n          {\r\n            label: `BTC Transitions Volume -  ${this.state.timePeriod} Months`,\r\n            data: updatedDailyTransitons.values.filter((val) => val.y),\r\n            fill: true,\r\n            backgroundColor: \"#72585f8f\",\r\n            borderColor: \"#a0465c\",\r\n          },\r\n        ],\r\n      }\r\n      // console.log(newData);\r\n      this.setState({ dailyTransitons: newData })\r\n    } catch (err) {\r\n      console.log(\"err:\", err)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dailyTransitons, timePeriod } = this.state\r\n    if (!dailyTransitons) return <span>Loading</span>\r\n    return (\r\n      <div className=\"confirmed-transitons\">\r\n        <select name='timePeriod'  value={timePeriod} onChange={this.handleChange}>\r\n          <option value='10'>10 Months</option>\r\n          <option value='2'>2 Months</option>\r\n          <option value='4'>4 Months</option>\r\n          <option value='6'>6 Months</option>\r\n          <option value='8'>8 Months</option>\r\n          <option value='12'>12 Months</option>\r\n        </select>\r\n        <Line data={dailyTransitons} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}