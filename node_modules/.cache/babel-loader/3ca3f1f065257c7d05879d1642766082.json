{"ast":null,"code":"import { storageService } from \"../services/storageService\";\nexport const userService = {\n  getUser,\n  signUp,\n  updateBalance\n};\nconst USERS = \"usersDB\";\nconst USER_KEY = \"loggedin\"; // const gUsers = storageService.load(USERS) || {}\n\nfunction getUser() {\n  // return {\n  //     name:\"Banjemin Brice\",\n  //     coins: 100,\n  //     moves:[],\n  // }\n  //   const user = JSON.parse(sessionStorage.getItem(STORAGE_KEY))\n  const user = storageService.load(USER_KEY) || null;\n  return user;\n}\n\nfunction signUp(name) {\n  let user = {\n    name,\n    coins: 100,\n    moves: []\n  };\n  console.log(name);\n  storageService.store(USER_KEY, user);\n}\n\nfunction updateBalance(val, to) {\n  let user = getUser();\n  let userBalance = JSON.parse(JSON.stringify(user.coins));\n  if (userBalance - val <= 0) return false;\n  user.coins = user.coins - val;\n  let move = {\n    'At': new Date(Date.now()).toLocaleDateString(),\n    'Amount': val,\n    to\n  };\n  user.moves.unshift(move);\n  console.log(user.moves);\n  storageService.store(USER_KEY, user);\n  return user.moves;\n}","map":{"version":3,"names":["storageService","userService","getUser","signUp","updateBalance","USERS","USER_KEY","user","load","name","coins","moves","console","log","store","val","to","userBalance","JSON","parse","stringify","move","Date","now","toLocaleDateString","unshift"],"sources":["C:/Users/ALON/Desktop/Mister-bitcoin -React day 106/Mister Bitcoin-React-with-hooks-and-redux/src/services/user.service.js"],"sourcesContent":["import { storageService } from \"../services/storageService\"\r\nexport const userService = {\r\n  getUser,\r\n  signUp,\r\n  updateBalance,\r\n}\r\n\r\nconst USERS = \"usersDB\"\r\nconst USER_KEY = \"loggedin\"\r\n// const gUsers = storageService.load(USERS) || {}\r\n\r\nfunction getUser() {\r\n  // return {\r\n  //     name:\"Banjemin Brice\",\r\n  //     coins: 100,\r\n  //     moves:[],\r\n  // }\r\n  //   const user = JSON.parse(sessionStorage.getItem(STORAGE_KEY))\r\n  const user = storageService.load(USER_KEY) || null\r\n  return user\r\n}\r\n\r\nfunction signUp(name) {\r\n  let user = {\r\n    name,\r\n    coins: 100,\r\n    moves: [],\r\n  }\r\n  console.log(name)\r\n  storageService.store(USER_KEY, user)\r\n}\r\n\r\nfunction updateBalance(val,to) {\r\n  let user = getUser()\r\n  let userBalance = JSON.parse(JSON.stringify(user.coins))\r\n  if (userBalance - val <= 0) return false\r\n\r\n  user.coins = user.coins - val\r\n  let move = {\r\n    'At': new Date(Date.now()).toLocaleDateString(),\r\n    'Amount': val ,\r\n   to,\r\n  }\r\n  user.moves.unshift(move)\r\n  console.log(user.moves)\r\n  storageService.store(USER_KEY, user)\r\n  return user.moves\r\n}\r\n"],"mappings":"AAAA,SAASA,cAAT,QAA+B,4BAA/B;AACA,OAAO,MAAMC,WAAW,GAAG;EACzBC,OADyB;EAEzBC,MAFyB;EAGzBC;AAHyB,CAApB;AAMP,MAAMC,KAAK,GAAG,SAAd;AACA,MAAMC,QAAQ,GAAG,UAAjB,C,CACA;;AAEA,SAASJ,OAAT,GAAmB;EACjB;EACA;EACA;EACA;EACA;EACA;EACA,MAAMK,IAAI,GAAGP,cAAc,CAACQ,IAAf,CAAoBF,QAApB,KAAiC,IAA9C;EACA,OAAOC,IAAP;AACD;;AAED,SAASJ,MAAT,CAAgBM,IAAhB,EAAsB;EACpB,IAAIF,IAAI,GAAG;IACTE,IADS;IAETC,KAAK,EAAE,GAFE;IAGTC,KAAK,EAAE;EAHE,CAAX;EAKAC,OAAO,CAACC,GAAR,CAAYJ,IAAZ;EACAT,cAAc,CAACc,KAAf,CAAqBR,QAArB,EAA+BC,IAA/B;AACD;;AAED,SAASH,aAAT,CAAuBW,GAAvB,EAA2BC,EAA3B,EAA+B;EAC7B,IAAIT,IAAI,GAAGL,OAAO,EAAlB;EACA,IAAIe,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeb,IAAI,CAACG,KAApB,CAAX,CAAlB;EACA,IAAIO,WAAW,GAAGF,GAAd,IAAqB,CAAzB,EAA4B,OAAO,KAAP;EAE5BR,IAAI,CAACG,KAAL,GAAaH,IAAI,CAACG,KAAL,GAAaK,GAA1B;EACA,IAAIM,IAAI,GAAG;IACT,MAAM,IAAIC,IAAJ,CAASA,IAAI,CAACC,GAAL,EAAT,EAAqBC,kBAArB,EADG;IAET,UAAUT,GAFD;IAGVC;EAHU,CAAX;EAKAT,IAAI,CAACI,KAAL,CAAWc,OAAX,CAAmBJ,IAAnB;EACAT,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACI,KAAjB;EACAX,cAAc,CAACc,KAAf,CAAqBR,QAArB,EAA+BC,IAA/B;EACA,OAAOA,IAAI,CAACI,KAAZ;AACD"},"metadata":{},"sourceType":"module"}